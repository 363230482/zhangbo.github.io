# 第一章 DDD入门
实体 Entity
值对象 Value Object

聚合 Aggregation，包含一个或多个的Entity或ValueObject

领域服务 DomainService, 有些命令操作不能自然的放在领域或值对象上，那就可以设计为无状态的领域服务
领域事件 DomainEvent
模块 Module，包含多个内聚的领域对象，可以使用Java中的package或Java9的模块化隔离

DDD并不是关于技术的，而是关于聆听，理解，讨论，发现和业务价值的。如果你了解公司的业务，那你至少可以为DDD贡献通用语言(Ubiquitous Language)了。
将领域专家(不怎么使用技术语言，不懂技术的人)引入团队，共同讨论。
领域专家并不是一个职位，他可能是了解业务领域背景知识的任何人，甚至可能是销售员。

领域模式是关于某个特定领域的软件模式，它用对象模型来实现，同时包含了数据和行为，能够准确的表达业务含义。
软件开发最大的问题之一，就是业务人员和开发人员不能很好的交流，业务说这是A，开发说这是B，好像他们之间需要某个翻译(通用语言)才能沟通。

## DDD同时提供了战略设计和战术设计两种方式。
战略设计帮助我们理解哪些投入是最重要的；哪些既有软件资产是可以重新拿来使用的；哪些人应该被加到团队中？
战术设计则帮助我们创建DDD模型中各个部件(领域，值对象，聚合，领域事件，限界上下文等)。

DDD的作用是简单化，而不是复杂化。我们应该使用最简单的方式对那些复杂领域建模，而不是使问题变得更加复杂。

贫血模型：领域对象只包含getter/setter，所有的业务逻辑都在Service中。贫血领域对象反映了一种自然的过程化的编程风格。
现有的web框架在映射/接收用户表单时，和ORM框架在映射数据时，几乎都要求对象要符合JavaBean的getter/setter规范，进一步导致了贫血模型的流行。

设计就是代码，代码就是设计。白板并不是设计，它只是我们讨论设计的一个方式。

## 如何DDD
通用语言和限界上下文是DDD的两大支柱。
通用语言：不是业务语言，不是工业标准术语，不是领域专家语言，而是团队自己创建的公用语言，团队中同时包含了领域专家和开发人员。会过时，要升级。
通用语言与限界上下文是一对一的关系，只有在指定的限界上下文内，通用语言才通用。但通用语言不是万能的，更不是一个公司，甚至国家等的通用语言。

开发者大多时候都是从技术实现的角度去思考，是时候该改变了，我们应该从业务的角度开发一门通用语言。

领域事件(DomainEvent)应该在领域内部发布，而不是在客户端代码中被发布，不然就是一种领域逻辑的泄漏。

>在你开发一个新的领域对象时，比如实体或值对象，你可以采用以下步骤进行：
>>1. 编写测试代码以模拟客户代码是如何使用该领域对象的。  
>>2. 创建该领域对象以使测试代码能够编译通过。  
>>3. 同时对测试和领域对象进行重构，直到测试代码能够正确地模拟客户代码，同时领域对象拥有能够表明业务行为的方法签名。  
>>4. 实现领域对象的行为，直到测试通过为止，再对实现代码进行重构。  
>>5. 向你的团队成员展示代码，包括领域专家，以保证领域对象能够正确地反映通用语言。  

